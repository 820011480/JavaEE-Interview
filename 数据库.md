# JavaEE面试问题总结

##### @Author LucI_PhAN

## 数据存储和消息队列

### 数据库

**1. MySQL 索引使用的注意事项**

1. 索引不会包含有Null值的列  
只要列中包含有null值豆浆不会被包含在索引中。符合索引中只要有一列含有null值，那么这一列对于此符合索引就是无效的。
2. 使用短索引  
对串列进行索引，如果可能应该指定一个前缀长度。例如有一个char(255)的列，如果在前10或20个字符内，多数值是惟一的，就不要对整个列进行索引。短索引不仅可以提高查询速度而且可以节省磁盘空间和I/O操作。
3. 索引列排序  
MySQL查询只使用一个索引。因此如果where子句中已经使用了索引的话，那么order by中的列是不会使用索引的。因此数据库默认排序可以符合要求的情况下不要使用排序操作，尽量不要包含多个列的排序，如果需要最好给这些列创建复合索引。
4. like语句操作  
一般情况下不鼓励使用like操作。如果非使用不可，尽量避免%aaa%，因为不会使用索引，而like"aaa%"则会使用索引。
5. 不要在列上进行运算  
``` Java
select * from users where YEAR(adddate)<2007
```
将在每个行上进行运算，这将导致索引失效而进行全表扫描。可以改为
``` java
select * from users where adddate<'2007-01-01'
```
6. 不使用Not IN，<>，！=操作，但<,<=,=,>,>=,between,in是可以使用索引的
7. 索引要建立在经常进行select操作的字段上
8. 索引要建立在值比较唯一的字段上。
9. 对于那些定义为text，image和bit数据类型的列不应该增加索引。因为这些列的数据量要么相当大，要么取值很少。
10. 在where和join中出现的类需要建立索引
11. where的查询条件里有不等号(where column ！= ...)，mysql将无法使用索引
12. 在join操作时，MySQL只有在主键和外键的数据类型相同时才能使用索引，否则即使建立了索引也不会使用。

参考：  
[《mysql索引使用技巧及注意事项》](https://www.cnblogs.com/heyonggang/p/6610526.html)  
[《MySQL索引类型总结和使用技巧以及注意事项》](https://blog.csdn.net/u010411264/article/details/50231903)
